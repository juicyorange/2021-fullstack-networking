## 03-04. TCP ECHO COMPLETE

<br>

### 개발 결과물

- tco_echo 01, 02에 있는 파일에 대해 오류처리를 추가.

- 또한, 기능을 다시 재사용 가능하도록 약간의 함수화 수행.

  ```js
  connectToServer(socket); // 연결된 소켓을 넣으면 event listener함수들을 등록해주는 함수.
  writeData(socket, data); // 연결된 소켓과 데이터를 넣으면 상대방의 소켓으로 데이터를 전송해주는 함수. (에러처리 포함 - 안보내졌을 경우 다시 보낸다.)
  ```

<br>

### 소스코드 소개

👀 코드 상의 주석으로 설명되어 있으므로 핵심이라 생각되는 것만 간략하게 소개

- net 모듈에서 `error` 라는 이벤트를 처리하는 이벤트 리스너를 통해 socket에 관한 에러가 발생하였을때 에러를 알려준다.

  ```js
  socket.on("error", (err) => {
    console.log("net socket error!: " + err);
  });
  ```

- 코드 안에서 `socket.once` 라는 이벤트 리스너를 추가하였는데, 이는 `socket.on` 처럼 한번만 등록해도, 반복적으로 수행되는 것이 아닌 일회성으로 한번만 수행되고 사라진다.

  ```js
  socket.on("drain", () => {});
  ```

<br>

### 데모영상 소개

- 동작은 이전의 `01-02 socket echo` 와 동일하다.

- 추가된 것은 에러처리에 관한것이나, 에러상황을 발생시키기 어려워 그것에 대한 영상은 담지 못하였다.

<br>

### 느낀점

- 에러처리에 대한 내용을 추가하다보니, 실제 프로그램 작성보다 동작하면서 발생하는 에러를 예측하고, 이것들을 예방할 수 있도록 처리하는 것이 더 어려울 것 같다는 생각이 들었다.

- 추후 현업에 가서는 실제 에러처리가 더 많은 비중을 차지할 것이라는 생각도 들었다.

<br>

---

#### 🌛 구현한 코드의 내용에 대한 자세한 설명은 js 파일 안에 주석으로 첨부되어있습니다.

#### 🌜 따라서 핵심이라 생각되는 코드를 제외한 나머지 코드에 대한 자세한 내용은 해당 readme에서 제외하였습니다.
