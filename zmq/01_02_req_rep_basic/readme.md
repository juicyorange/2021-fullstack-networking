## 01-02. ZMQ REP RES BASIC

<br>

### κ°λ° κ²°κ³Όλ¬Ό

- node.jsμ `zeromq` λ¨λ“μ„ μ‚¬μ©ν•μ—¬ zmqλ¥Ό μ‚¬μ©ν•΄λ³Έλ‹¤.

   <img src="./1.png" alt="drawing" width="500"/>

- κ³µμ‹ ν™νμ΄μ§€μ— μ μ‹λμ–΄μλ” μ—¬λ¬ ν¨ν„΄λ“¤ μ¤‘ κ°€μ¥ κΈ°λ³Έμ μΈ ν¨ν„΄μΈ req-resν¨ν„΄μ„ μ‚¬μ©ν•λ‹¤.
  ([zmq κ³µμ‹ λ¬Έμ„](https://zguide.zeromq.org/docs/chapter1/#Ask-and-Ye-Shall-Receive))

  <img src="./2.png" alt="drawing" width="500"/>

- κ°„λ‹¨ν•κ² zmqμ reqλ¥Ό μν–‰ν•λ” ν΄λΌμ΄μ–ΈνΈ μ—­ν• μ„ ν•λ” ν”„λ΅κ·Έλ¨μ΄ zmqμ resλ¥Ό μν–‰ν•λ” μ„λ²„ ν”„λ΅κ·Έλ¨μ—κ² μ”μ²­μ„ λ³΄λ‚΄κ³ , μ„λ²„ ν”„λ΅κ·Έλ¨μ—μ„ μ‘λ‹µμ„ λ³΄λ‚΄λ” κµ¬μ΅°.

<br>

### μ†μ¤μ½”λ“ μ†κ°

π‘€ μ½”λ“ μƒμ μ£Όμ„μΌλ΅ μ„¤λ…λμ–΄ μμΌλ―€λ΅ ν•µμ‹¬μ΄λΌ μƒκ°λλ” κ²ƒλ§ κ°„λµν•κ² μ†κ°

- μ΄μ „μ `socket` μ—μ„λ” λ‹¨μν•κ² socket λ§μ„ μƒμ„±ν•κ³ , κ·Έκ²ƒμ μ—­ν• μ€ μ½”λ“λ¥Ό ν†µν•΄ μ§μ ‘ κµ¬ν„ν•΄μ•Όν–λ‹¤.
- ν•μ§€λ§ `zmq` λ¥Ό μ΄μ©ν•λ©΄ λ‹¤μ–‘ν• ν¨ν„΄μ— λ€ν• μ†μΌ“μ„ μƒμ„±ν•  μ μκ³ , μ΄λ―Έ ν•΄λ‹Ή ν¨ν„΄μ—μ„ λ§μ΄ μ‚¬μ©ν•λ” κ²ƒλ“¤μ— λ€ν• λ΅μ§ κµ¬ν„μ΄ μ΄λ―Έ λμ–΄μμ–΄ νΈλ¦¬ν•λ‹¤.

  ```js
  // μ‘λ‹µ(rep)μ„ μ„ν• μ†μΌ“μ„ λ§λ“ λ‹¤.
  const responder = zmq.socket("rep");

  // μ”μ²­(req)μ„ μ„ν• μ†μΌ“μ„ λ§λ“ λ‹¤.
  const requester = zmq.socket("req");
  ```

- μ†μΌ“μ— λ€ν•΄ `event listener` λ¥Ό λ§λ“¤κ³ , `event listener` μ— `call back` ν•¨μλ¥Ό κµ¬ν„ν•λ” κ²ƒμ€ μ΄μ „μ `net` λ¨λ“μ„ μ‚¬μ©ν• κµ¬ν„κ³Ό μ μ‚¬ν•λ‹¤.

  ```js
  // event listenerλ¥Ό λ“±λ΅ν•κ³  call back ν•¨μλ¥Ό λ„£μ–΄μ¤.
  requester.on("message", (reply) => {});
  ```

<br>

### λ°λ¨μμƒ μ†κ°

- reqλ¥Ό μν–‰ν•λ” ν΄λΌμ΄μ–ΈνΈ ν”„λ΅κ·Έλ¨μ€ resλ¥Ό μν–‰ν•λ” μ„λ²„ ν”„λ΅κ·Έλ¨μ—κ² 10λ²μ μ”μ²­μ„ λ³΄λ‚Έλ‹¤.

- resλ¥Ό μν–‰ν•λ” μ„λ²„ν”„λ΅κ·Έλ¨μ€ μ”μ²­μ„ λ°›μΌλ©΄ 1μ΄κ°„ λ©μ¶°μλ‹¤κ°€ μ”μ²­μ„ λ³΄λ‚Έ reqλ¥Ό μν–‰ν•λ” ν΄λΌμ΄μ–ΈνΈ ν”„λ΅κ·Έλ¨μ—κ² μ‘λ‹µμ„ λ³΄λ‚΄μ¤€λ‹¤.

- 3κ°μ ν΄λΌμ΄μ–ΈνΈμ—­ν• μ ν”„λ΅κ·Έλ¨μ΄ λ™μ‹μ— μν–‰λλ©΄, 30κ°μ μ”μ²­μ΄ λ“¤μ–΄κ°€κ² λκ³ , μ„λ²„λ” μ”μ²­λ§λ‹¤ 1μ΄λ™μ• λ©μ¶°μμΌλ―€λ΅ λ¨λ“  ν΄λΌμ΄μ–ΈνΈκ°€ μ‘λ‹µμ„ λ°›λ”λ°λ” λ€λµ 30μ΄κ°€ κ±Έλ¦¬κ² λλ‹¤.

- μ΄λ• μ‘λ‹µμ„ λ³΄λ‚΄λ” κΈ°μ¤€μ€ μ”μ²­μ΄ λ“¤μ–΄μ¨ μμ„κ°€ μ•„λ‹ λ‚΄λ¶€μ μΌλ΅ λλ¤ν•κ² μ”μ²­μ„ μ²λ¦¬ν•΄μ„ μ¤€λ‹¤.(μν–‰ κ²°κ³Ό κ±°μ κ³µν‰ν•κ² λμ•„κ°€λ©΄μ„ ν•λ²μ”© μ‘λ‹µμ„ μ£Όκ³ μλ‹¤.)

<br>

### λλ‚€μ 

- μ›λκ°™μ•μΌλ©΄ μ”μ²­μ΄ λ“¤μ–΄μ¨ μμ„λ€λ΅ μ‘λ‹µμ„ λ³΄λƒμ–΄μ•Ό ν•λ”λ°, λ‚΄λ¶€μ μΌλ΅ μ΄λ¥Ό μ²λ¦¬ν•΄μ£Όκ³  μλ‹¤λ” κ²ƒμ—μ„ λ§¤μ° νΈλ¦¬ν•λ‹¤κ³  λκΌλ‹¤.

<br/>

---

#### π› κµ¬ν„ν• μ½”λ“μ λ‚΄μ©μ— λ€ν• μμ„Έν• μ„¤λ…μ€ js νμΌ μ•μ— μ£Όμ„μΌλ΅ μ²¨λ¶€λμ–΄μμµλ‹λ‹¤.

#### π λ”°λΌμ„ ν•µμ‹¬μ΄λΌ μƒκ°λλ” μ½”λ“λ¥Ό μ μ™Έν• λ‚λ¨Έμ§€ μ½”λ“μ— λ€ν• μμ„Έν• λ‚΄μ©μ€ ν•΄λ‹Ή readmeμ—μ„ μ μ™Έν•μ€μµλ‹λ‹¤.
